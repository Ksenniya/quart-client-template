{"name": "report_processing_workflow", "description": "Finite state machine for processing report entity using sequential steps.", "transitions": [{"name": "update_requested_at", "description": "Update the request timestamp of the entity.", "start_state": "None", "start_state_description": "Initial state", "end_state": "RequestedAt_updated", "end_state_description": "The entity's requestedAt attribute has been updated.", "automated": true, "processes": {"schedule_transition_processors": [], "externalized_processors": [{"name": "process_update_requested_at", "description": "Update entity's requestedAt to current UTC time.", "calculation_nodes_tags": "CHAT_ID_VAR", "attach_entity": true, "calculation_response_timeout_ms": "120000", "retry_policy": "NONE", "sync_process": false, "new_transaction_for_async": true, "none_transactional_for_async": false, "processor_criteria": {"externalized_criteria": [], "condition_criteria": []}}]}, "transition_criteria": {"externalized_criteria": [], "condition_criteria": []}}, {"name": "fetch_btc_rates", "description": "Fetch BTC conversion rates and update the entity.", "start_state": "RequestedAt_updated", "start_state_description": "Entity with updated request timestamp.", "end_state": "BTC_rates_fetched", "end_state_description": "The entity has been updated with BTC conversion rates.", "automated": true, "processes": {"schedule_transition_processors": [], "externalized_processors": [{"name": "process_fetch_btc_rates", "description": "Fetch BTC rates from external API and update entity.", "calculation_nodes_tags": "CHAT_ID_VAR", "attach_entity": true, "calculation_response_timeout_ms": "120000", "retry_policy": "NONE", "sync_process": false, "new_transaction_for_async": true, "none_transactional_for_async": false, "processor_criteria": {"externalized_criteria": [], "condition_criteria": []}}]}, "transition_criteria": {"externalized_criteria": [], "condition_criteria": []}}, {"name": "send_email", "description": "Simulate sending an email notification.", "start_state": "BTC_rates_fetched", "start_state_description": "Entity with BTC conversion rates updated.", "end_state": "Email_sent", "end_state_description": "An email notification has been simulated.", "automated": true, "processes": {"schedule_transition_processors": [], "externalized_processors": [{"name": "process_send_email", "description": "Simulate email sending and update entity status.", "calculation_nodes_tags": "CHAT_ID_VAR", "attach_entity": true, "calculation_response_timeout_ms": "120000", "retry_policy": "NONE", "sync_process": false, "new_transaction_for_async": true, "none_transactional_for_async": false, "processor_criteria": {"externalized_criteria": [], "condition_criteria": []}}]}, "transition_criteria": {"externalized_criteria": [], "condition_criteria": []}}, {"name": "finalize_report", "description": "Finalize the report by updating the timestamp and status.", "start_state": "Email_sent", "start_state_description": "Entity after email simulation.", "end_state": "Report_finalized", "end_state_description": "The report processing is complete with finalized timestamp and status.", "automated": true, "processes": {"schedule_transition_processors": [], "externalized_processors": [{"name": "process_finalize_report", "description": "Finalize the report by updating the timestamp and status.", "calculation_nodes_tags": "CHAT_ID_VAR", "attach_entity": true, "calculation_response_timeout_ms": "120000", "retry_policy": "NONE", "sync_process": false, "new_transaction_for_async": true, "none_transactional_for_async": false, "processor_criteria": {"externalized_criteria": [], "condition_criteria": []}}]}, "transition_criteria": {"externalized_criteria": [], "condition_criteria": []}}], "workflow_criteria": {"externalized_criteria": [], "condition_criteria": [{"name": "ENTITY_MODEL_VAR:ENTITY_VERSION_VAR:CHAT_ID_VAR", "description": "Workflow criteria", "condition": {"group_condition_operator": "AND", "conditions": [{"field_name": "entityModelName", "is_meta_field": true, "operation": "equals", "value": "ENTITY_MODEL_VAR", "value_type": "strings"}, {"field_name": "entityModelVersion", "is_meta_field": true, "operation": "equals", "value": "ENTITY_VERSION_VAR", "value_type": "strings"}]}}]}}