{
  "name": "job_processing_workflow:ENTITY_MODEL_VAR:ENTITY_VERSION_VAR:CHAT_ID_VAR",
  "description": "Workflow for processing a job entity with success and error handling using an FSM model.",
  "transitions": [
    {
      "name": "execute_success_flow",
      "description": "Process job successfully by waiting and then marking it as completed",
      "start_state": "None",
      "start_state_description": "Initial state",
      "end_state": "Processing_success",
      "end_state_description": "Job processed and marked as completed",
      "automated": true,
      "processes": {
        "schedule_transition_processors": [],
        "externalized_processors": [
          {
            "name": "process_wait",
            "description": "Simulate asynchronous waiting/processing",
            "calculation_nodes_tags": "CHAT_ID_VAR",
            "attach_entity": true,
            "calculation_response_timeout_ms": "120000",
            "retry_policy": "NONE",
            "sync_process": false,
            "new_transaction_for_async": true,
            "none_transactional_for_async": false,
            "processor_criteria": {
              "externalized_criteria": [],
              "condition_criteria": []
            }
          },
          {
            "name": "process_mark_completed",
            "description": "Mark entity as completed with a processed timestamp",
            "calculation_nodes_tags": "CHAT_ID_VAR",
            "attach_entity": true,
            "calculation_response_timeout_ms": "120000",
            "retry_policy": "NONE",
            "sync_process": false,
            "new_transaction_for_async": true,
            "none_transactional_for_async": false,
            "processor_criteria": {
              "externalized_criteria": [],
              "condition_criteria": []
            }
          }
        ]
      },
      "transition_criteria": {
        "externalized_criteria": [],
        "condition_criteria": []
      }
    },
    {
      "name": "execute_failure_flow",
      "description": "Process job failure by marking it as failed when an exception occurs",
      "start_state": "None",
      "start_state_description": "Initial state",
      "end_state": "Processing_failed",
      "end_state_description": "Job processing failed",
      "automated": true,
      "processes": {
        "schedule_transition_processors": [],
        "externalized_processors": [
          {
            "name": "process_mark_failed",
            "description": "Mark entity as failed",
            "calculation_nodes_tags": "CHAT_ID_VAR",
            "attach_entity": true,
            "calculation_response_timeout_ms": "120000",
            "retry_policy": "NONE",
            "sync_process": false,
            "new_transaction_for_async": true,
            "none_transactional_for_async": false,
            "processor_criteria": {
              "externalized_criteria": [],
              "condition_criteria": []
            }
          }
        ]
      },
      "transition_criteria": {
        "externalized_criteria": [],
        "condition_criteria": []
      }
    }
  ],
  "workflow_criteria": {
    "externalized_criteria": [],
    "condition_criteria": [
      {
        "name": "ENTITY_MODEL_VAR:ENTITY_VERSION_VAR:CHAT_ID_VAR",
        "description": "Workflow criteria",
        "condition": {
          "group_condition_operator": "AND",
          "conditions": [
            {
              "field_name": "entityModelName",
              "is_meta_field": true,
              "operation": "equals",
              "value": "ENTITY_MODEL_VAR",
              "value_type": "strings"
            },
            {
              "field_name": "entityModelVersion",
              "is_meta_field": true,
              "operation": "equals",
              "value": "ENTITY_VERSION_VAR",
              "value_type": "strings"
            }
          ]
        }
      }
    ]
  }
}